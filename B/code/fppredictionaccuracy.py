import statistics
from operator import itemgetter
import numpy as np
import matplotlib.pyplot as plt
import glob
import seaborn as sns
import pickle
from dateutil import parser
import pandas as pd
from scipy.stats import lognorm
from scipy.stats import alpha
from scipy.stats import fisk
from scipy.stats import genextreme
from scipy.stats import gengamma
from scipy.stats import loglaplace
from scipy.stats import burr
from scipy.stats import maxwell
from scipy.stats import mielke
from scipy.stats import moyal
from scipy.stats import nakagami
from scipy.stats import norminvgauss
from scipy.stats import powerlognorm
from scipy.stats import wald
from scipy.stats import cauchy
from mpl_toolkits import mplot3d
from pylab import *


#col_list = ['computation time', 'checkpoint time', 'waste time', 'restart time', 'wallclock time', 'efficiency',
#             'no. of failures', 'no. of checkpoints', 'checkpoint interval', 'pct. of checkpoints to BB', 'daily write workloads to Burst Buffers']

base_simulation_data_0_100 = [
[5.906209404579086,9.169600679330603,0.8012231111111773,95.78483165170321,24.647,619.183,0.5974565681487142,6348.5351930920315],
[1.9431917601784183,2.514602214460817,0.0844681249999373,98.14595607852272,11.225,586.831,0.42001124834491804,2133.2166093919986],
[0.7145523390407579,0.8592947044572643,0.003825777777755569,99.34803741205242,3.766,532.816,0.46285465266481707,264.43355455629785],
[0.035790711344789845,0.04227303928034483,0.004781746031745381,99.93110101908339,0.482,681.856,0.1808199748691967,6.648939751118924],
[0.09437956876001852,0.13500992141994228,0.01121737213402941,99.94991536763791,1.957,3457.777,0.14433690731534438,4.386674577592602],
[0.02253823625535016,0.04025842033704997,0.00031727419354092356,99.99123569748792,1.422,13138.434,0.058464721413464656,0.35492730442781606]
]

base_simulation_data_5_95 = [
[5.874874729864123,8.757414040250167,0.7628312380952968,95.90787074053735,23.466,615.898,0.6007272628176237,6321.495909458662],
[1.9332941914215316,2.4460372299891855,0.08104424999993896,98.17885698151451,10.77,583.842,0.4222511575771531,2122.954738232331],
[0.7109394520377826,0.8104122485014706,0.003623619047597271,99.369751718418,3.567,530.122,0.4652979727678953,263.1407411335321],
[0.0355599647251687,0.04087469481696601,0.004682539682538947,99.93254083865025,0.472,677.46,0.1820587723373679,6.606401911365169],
[0.09384510793855413,0.12640200064858734,0.010111111111102382,99.95204745910243,1.764,3438.196,0.14516416574030597,4.361919012459051],
[0.02241108932642697,0.03774511209916415,0.0002878225806384177,99.99160644016665,1.29,13064.315,0.05878481033642222,0.35292506399050166]
]

base_simulation_data_10_90 = [
[5.850093151505059,8.275327590589328,0.7205059047619634,96.04763832641152,22.164,613.3,0.6033258434021116,6302.26386748439],
[1.9241416721695959,2.3551125262171553,0.07804929999994212,98.22013637946561,10.372,581.078,0.42430274990825384,2113.618542194288],
[0.7075196814893122,0.7890444279643091,0.003516952380931249,99.37991465699285,3.462,527.572,0.4676201292744926,261.90454418300806],
[0.03538889938545482,0.040306749588107225,0.00442460317460251,99.93336910518312,0.446,674.201,0.1830057385657701,6.574333717188464],
[0.0934620244581767,0.12069872131398189,0.009721340387998822,99.95339427533698,1.696,3424.161,0.14571903439206804,4.344206571300835],
[0.022320282344786044,0.034374790646662545,0.0002800134408536341,99.99208809557156,1.255,13011.38,0.059001008074043425,0.3514973105516848]
]

base_simulation_data_15_85 = [
[5.804316864151275,7.908968007491464,0.6781480634921168,96.16363111543905,20.861,608.501,0.6083495102835781,6259.953472960906],
[1.9106645544578096,2.2054957882146193,0.07202177499994666,98.28792446048493,9.571,577.008,0.42755047284806735,2100.149153358227],
[0.7025844832075999,0.7359204539099291,0.0032558730158537483,99.40386339751292,3.205,523.892,0.4711119806120968,260.1273133847813],
[0.03513300999266987,0.036645101566148884,0.004057539682539067,99.93692692839589,0.409,669.326,0.18441131398045396,6.527163969678908],
[0.0927583354515508,0.11342330304617941,0.009279982363308313,99.9551468900232,1.619,3398.38,0.1468227647275093,4.311543129669108],
[0.022189548423718074,0.03411013678865839,0.0002650645161227515,99.99214508486108,1.188,12935.17,0.059277167164526724,0.3494386144618155]
]

base_simulation_data_20_80 = [
[5.781214099414696,7.464412082401448,0.6478506666667165,96.29139561459957,19.929,606.079,0.6109508744224302,6240.848036970651],
[1.9024690099033341,2.107662241057713,0.06964387499994924,98.3315650952123,9.255,574.533,0.42956088780346224,2091.8538903920544],
[0.6996005657682608,0.7351800982188977,0.0031898412698226223,99.40544042148818,3.14,521.667,0.47337330607473777,259.0342147267448],
[0.03513363987425853,0.036714542365619135,0.004067460317459713,99.93686496162276,0.41,669.338,0.18440037389888841,6.527369101825998],
[0.0922891366607976,0.10744185953061462,0.008569223985883959,99.95663690598315,1.495,3381.19,0.1476362035316279,4.2897838669052675],
[0.02206652370461124,0.03326136228354015,0.0002548010752627672,99.9922814586439,1.142,12863.454,0.05963516229595697,0.34750150530874485]
]

base_simulation_data_25_75 = [
[5.745434384085655,7.0057120370094035,0.6060454603175116,96.4292917680059,18.643,602.328,0.614638175530695,6208.319890340586],
[1.8884223432366536,1.9433144268275553,0.06283374999995324,98.40591960885573,8.35,570.291,0.4325590250970039,2077.9428026903115],
[0.6943542354209469,0.6640740243904983,0.0028769523809352078,99.43693046357804,2.832,517.755,0.47669675000797657,257.1809166260908],
[0.034738074240608006,0.031352986278691916,0.0033035714285709642,99.9422837276887,0.333,661.802,0.18662960973901185,6.4540079156187415],
[0.09182618839503984,0.10292240749195278,0.008196649029975777,99.95775107344114,1.43,3364.229,0.14826977097391794,4.268336732144653],
[0.022009022050771654,0.0334246368286649,0.0002532392473058025,99.9922669851866,1.135,12829.934,0.05968340989027961,0.34659541748021216]
]

base_simulation_data_30_70 = [
[5.702023697745373,6.477395471984378,0.5573160634921052,96.58905388634965,17.144,597.777,0.6194760831567785,6169.757698168102],
[1.8777565456568788,1.8492238330426445,0.060222574999956126,98.4491229019799,8.003,567.07,0.4351256719271157,2066.8079579979076],
[0.6905334800120976,0.6315181907078329,0.002674793650778119,99.4519816353491,2.633,514.906,0.47943617907138614,255.79172652467054],
[0.03463886789141333,0.030598885778112837,0.003373015873015386,99.94293259189868,0.34,659.912,0.18712751275082595,6.4357974076728555],
[0.09107658941944868,0.09706888018435196,0.007715167548494376,99.95922503245855,1.346,3336.766,0.14949696947343347,4.233544979111775],
[0.02182007285245991,0.030048558016749924,0.0002291424731129501,99.99276536205718,1.027,12719.788,0.06018217817957505,0.34362193553144893]
]

base_simulation_data_35_65 = [
[5.6776236679368735,6.190182764202456,0.5319923809524204,96.67661446581435,16.365,595.219,0.6221208277920338,6148.174645535365],
[1.8705047304753504,1.700005954258707,0.05472932499995916,98.51448392867272,7.273,564.88,0.43674231412490705,2060.090899238951],
[0.6877520666326664,0.6262708732575372,0.002699174603158123,99.45527919234924,2.657,512.832,0.48126817391847393,254.769703847882],
[0.034423080959369835,0.03188509610071875,0.003353174603174073,99.94206340528238,0.338,655.801,0.18830231935989064,6.395362090469265],
[0.09066375453234704,0.09134887576363013,0.007084656084650232,99.9606331135723,1.236,3321.641,0.15017989834693882,4.2143738170010945],
[0.02171441699502672,0.02787715141647837,0.00020995430107031933,99.99308420338751,0.941,12658.197,0.06047196704164489,0.34195930942452035]
]

base_simulation_data_40_60 = [
[5.61705283553503,5.598140392309531,0.4814425396825757,96.85905191837145,14.81,588.869,0.6292974287460508,6091.649303805149],
[1.8532295159538767,1.6459562927422324,0.052306274999960024,98.54422342218025,6.951,559.663,0.4410369021929271,2041.577306748664],
[0.6813322856069687,0.5656260553036105,0.002358857142843056,99.48300851377225,2.322,508.045,0.48603223774674303,252.45698148364485],
[0.03409811455305982,0.02760406541082415,0.0030853174603170572,99.94611069394072,0.311,649.61,0.19012119532253074,6.335106387369411],
[0.08973171665526317,0.08482385075190936,0.00659171075837236,99.96228700397869,1.15,3287.494,0.1517324371377967,4.171151368953277],
[0.021506738588363872,0.024015362849821927,0.00018496505375906747,99.99365273448271,0.829,12537.133,0.06099502173186934,0.3386898020726775]
]


ckpt_simulation_data_0_88_12 = [
[5.875094167645358,5.637640293261274,0.8145188571429263,96.69518100024301,25.056,615.819,0.597355398358942,6312.102167783148],
[1.9858355057298234,0.32432158943867023,0.08665037499993597,99.01231150364546,11.515,588.688,0.42018671964900206,2146.5785759620144],
[0.7207774320262552,0.11283725323356503,0.0038491428571191737,99.65267922061717,3.789,534.199,0.4629993654302346,265.9050111245459],
[0.035761401871098476,0.004821230074233988,0.004841269841269154,99.96219519481575,0.488,680.427,0.18135538526286024,6.637066828486009],
[0.09463252013315693,0.02067199054284647,0.01153262786595212,99.9735886607913,2.012,3458.179,0.1443025025573563,4.38824401418687],
[0.022599952638486666,0.006831446024537497,0.0003058951612831031,99.99587025124244,1.371,13133.724,0.05847952901125824,0.3548160452525621]
]

ckpt_simulation_data_05_836_114 = [
[5.853878002342796,5.326899255420832,0.7752167619048238,96.79144214457175,23.847,611.656,0.6013928722020841,6275.412220437239],
[1.9756593370663325,0.30744028182777117,0.0800057999999412,99.02609237901756,10.632,584.938,0.4232086840386076,2133.9722157311785],
[0.7157430090601697,0.10736974243006811,0.0036337777777563163,99.65709381733457,3.577,530.518,0.46636208057605627,264.08899547010566],
[0.035522676751438165,0.005967755184421008,0.004791666666665975,99.96148082888314,0.483,675.879,0.18265421281827315,6.592790735944835],
[0.09397072438263104,0.01764494332908258,0.009927689594347753,99.9746905141259,1.732,3434.961,0.14533174171680494,4.3588414477924715],
[0.022486153800632944,0.006762571882187804,0.00030946505375609943,99.9958951234556,1.387,13065.816,0.058749308954426684,0.35298177320598767]
]

ckpt_simulation_data_10_792_108 = [
[5.8507464196651515,5.141651959170604,0.7390354285714872,96.84968690366685,22.734,609.799,0.6026936843454853,6261.795284708894],
[1.9789679752885563,0.2933784195777346,0.07916299999994211,99.03076909234298,10.52,584.784,0.42324156323636414,2133.6655713392647],
[0.7155595604772202,0.10065165378086326,0.00359415873013768,99.65997774844314,3.538,530.252,0.4663827584479038,263.95575061162157],
[0.035558526522647155,0.005562399570113126,0.004503968253967589,99.96202772403741,0.454,676.605,0.18231324377928318,6.599874924489467],
[0.09372696046217024,0.01661784710878226,0.009606701940027313,99.97502195485698,1.676,3426.0,0.14569499675703715,4.347469652351209],
[0.02240212762258282,0.0064020762505723125,0.000295185483864154,99.99595883119726,1.323,13017.653,0.05897430013770026,0.3516808996828997]
]

ckpt_simulation_data_15_748_102 =[
[5.823657118012659,4.8627968416009315,0.6971326984127558,96.94031419762507,21.445,605.141,0.6070494658962019,6221.011270895989],
[1.96385794100163,0.27638027278089317,0.07267644999994691,99.04648536856277,9.658,579.83,0.42710733401429857,2116.574218440566],
[0.7093246241264672,0.09977995482027432,0.0033239365079166536,99.66301520439907,3.272,525.735,0.470608527504404,261.718748896557],
[0.03525204584038245,0.004213358039109461,0.004166666666665996,99.96368578701292,0.42,670.801,0.18396568663982849,6.543241811565558],
[0.09308704100290568,0.014959504963763855,0.009119488536147807,99.9756018091409,1.591,3402.641,0.1466901743684052,4.317844024360567],
[0.022275671102171525,0.005789344218360499,0.0002744354838645406,99.99606437062211,1.23,12945.609,0.059253015434551554,0.3497341784819954]
]

ckpt_simulation_data_20_704_096 = [
[5.798100413327771,4.511169671233114,0.6443073015873501,97.0523361456034,19.82,600.901,0.6110770608000909,6185.922905991252],
[1.95957395175844,0.25514366442114556,0.06906444999994846,99.05842141781221,9.178,577.491,0.42889830993284966,2108.4124220510867],
[0.7061434019566255,0.07846552408592398,0.0030831746031557646,99.67323813616257,3.035,523.354,0.47261060977543906,260.5595861387171],
[0.034948401183010916,0.004457369475295633,0.003749999999999493,99.96408225450658,0.378,665.092,0.185728494555418,6.48753635078751],
[0.09248643816415204,0.015279985011142043,0.00860361552027516,99.97576754921641,1.501,3380.919,0.14762155271849686,4.290289125513612],
[0.022134742417245022,0.005523505607747889,0.0002617177419292489,99.99612262100929,1.173,12865.231,0.05959941725938914,0.3475632388163894]
]

ckpt_simulation_data_25_660_09 = [
[5.785020211093785,4.296351326087617,0.6150176507936975,97.11939666847236,18.919,597.383,0.6142132760271708,6154.051964857134],
[1.9526945166244873,0.2517321499413712,0.06621247499995185,99.06378748679934,8.799,575.12,0.43067501624478643,2100.0854859696733],
[0.7028630284535274,0.08280619223005307,0.0028982857142682344,99.67288441043416,2.853,521.048,0.4745267154638922,259.40561154897335],
[0.034952349687141324,0.003910193393152463,0.0036111111111105845,99.96464843483062,0.364,665.2,0.18551104229073415,6.488726237068649],
[0.09204384313587198,0.014177004175857743,0.00827689594355543,99.97615756781482,1.444,3364.744,0.14829322222457247,4.269752964392849],
[0.022026842074103197,0.005111211870811438,0.00023338172042458206,99.9961988027052,1.046,12804.482,0.05985194515999266,0.3459219549000101]
]

ckpt_simulation_data_30_616_084 = [
[5.739306277817851,4.07774216950006,0.5754554920635339,97.19899006625587,17.702,591.632,0.6199632289987081,6101.37309830954],
[1.9375594504628215,0.23492577742876836,0.060470899999956355,99.07919497559685,8.036,570.176,0.4346173055821109,2082.853723348216],
[0.6965223819975424,0.08177594836074631,0.002664634920619333,99.67602473636968,2.623,516.465,0.4789143945831106,257.1373300974915],
[0.03470830523783715,0.003947139972918368,0.003402777777777274,99.96499646080333,0.343,660.565,0.1869423268258388,6.443374327123797],
[0.09120179753227335,0.013669362431532935,0.007434303350963936,99.97661414745524,1.297,3334.519,0.1496909542774272,4.231375488856364],
[0.02183657976098694,0.004369338978754445,0.00021307795698425735,99.99633106196723,0.955,12694.97,0.06034886197841219,0.3429636656185167]
]

ckpt_simulation_data_35_572_078 = [
[5.70630028458641,3.7879105576428356,0.5224350476190878,97.29760584340181,16.071,586.26,0.6254079973703239,6054.344353093477],
[1.9220877711924353,0.22091640894507356,0.05565489999995813,99.09318253856804,7.396,565.084,0.4386320545804877,2065.429233364929],
[0.6904809942873572,0.08013687399293008,0.002654476190460305,99.67920058443426,2.613,511.827,0.4833801256487822,254.8336281834299],
[0.03432365812054445,0.0028511243554630726,0.002926587301586909,99.96662303934268,0.295,653.321,0.189111180451427,6.372801754324402],
[0.09051184548715605,0.01054291592663186,0.007136243386237469,99.97747029317026,1.245,3309.206,0.15074460220933522,4.199339252303833],
[0.02171110538890991,0.004863032266781212,0.00020906182795206186,99.99628047747207,0.937,12622.85,0.06059823598502033,0.34101571154390087]
]

ckpt_simulation_data_40_528_072 = [
[5.673120066420328,3.5553788819945593,0.4874890158730552,97.37646765058221,14.996,581.182,0.6301902603746258,6007.196380170946],
[1.908418379673526,0.19511404807563315,0.05140327499996174,99.11106519409097,6.831,560.086,0.4426522806142198,2047.7333169939757],
[0.6840159961209027,0.06617202916720777,0.002335492063477888,99.6877818030175,2.299,507.171,0.48778029162104725,252.53574350285956],
[0.03406668228362676,0.0029677973566799376,0.0026190476190472377,99.96699637454134,0.264,648.497,0.19048970075702282,6.325659673844576],
[0.08978593627395286,0.01024355420621906,0.005972663139325112,99.97792604043346,1.042,3283.629,0.15185871968596873,4.166905097346482],
[0.021524310101296355,0.0038188370823293463,0.0001845188171998462,99.99645483215888,0.827,12516.622,0.06108194706943363,0.33814632123066146]
]
#####

ckpt_lm_simulation_data_0_88_12 = [
[4.237414852485234,5.984029229655318,0.4245211428571673,97.13571242821061,13.059,444.211,0.7877022506257706,4762.973978255526],
[1.4272702584243533,0.2686074174995563,0.045631599999966826,99.28302339306747,6.064,430.974,0.5595939484409983,1581.4412013131657],
[0.5309568704469761,0.06865205358106549,0.001971809523797697,99.75033422978268,1.941,394.217,0.6167276411346144,196.25360432261073],
[0.02630147568277058,0.00581403543439878,0.002599206349205969,99.97111682734429,0.262,500.624,0.24226542988332597,4.881917891212217],
[0.07143620426412228,0.01207579756328123,0.005915343915338866,99.98137764670062,1.032,2612.576,0.1863192120652578,3.315105880430514],
[0.017882266063888028,0.004574761764325924,0.00016599999999604044,99.99685823191452,0.744,10401.79,0.07069375725336065,0.28100674606837434]
]

ckpt_lm_simulation_data_05_836_114 = [
[4.211161406303913,5.715977725942149,0.4004327619047842,97.21942649946853,12.318,441.424,0.7908683535926891,4741.21273610493],
[1.42488676962011,0.23232536597187972,0.04365252499996728,99.2973265346513,5.801,429.522,0.561564877075406,1576.8379420483839],
[0.5290984938950389,0.0711624952963936,0.0019464126984008979,99.75008941075544,1.916,392.779,0.6189056050584305,195.56701516634757],
[0.026177839491543748,0.004324093660711282,0.0025297619047615696,99.97251430869561,0.255,498.244,0.24346255085616883,4.858650106754111],
[0.07111984800304486,0.012740434096856858,0.005428130511459426,99.98140667107862,0.947,2601.404,0.1871334051881452,3.300946477178606],
[0.017823954720922207,0.0041520251697274085,0.00015952956988865308,99.99692592619824,0.715,10368.31,0.07090204030582482,0.2801036157664469]
]

ckpt_lm_simulation_data_10_792_108 = [
[4.187975955804175,5.383403536844298,0.3757917460317699,97.31839129503383,11.56,438.978,0.7939740358543037,4721.954959672121],
[1.4210959298209314,0.19452380160422897,0.04068014999997033,99.31557511528526,5.406,427.746,0.5643507580028259,1570.3587317199078],
[0.5264600424308591,0.07256187515617554,0.001852952380941949,99.75064112300774,1.824,390.855,0.6219805460875432,194.6005751174173],
[0.026099131317712094,0.003554660819308272,0.002430555555555174,99.97330127229634,0.245,496.765,0.24419257248058454,4.844162358510348],
[0.07088280735462989,0.011034899733257249,0.004998236331565577,99.98190062947494,0.872,2592.901,0.1877194372675066,3.29013522989832],
[0.01777759041040663,0.003958181577501334,0.0001588602150500038,99.99695937446668,0.712,10340.668,0.07107081578550214,0.2793562608416988]
]

ckpt_lm_simulation_data_15_748_102 = [
[4.164293248614852,5.128669126826421,0.3537838730158937,97.39782694446683,10.883,436.448,0.797164412821806,4700.169526603156],
[1.4177223601149713,0.20070539334108403,0.03931812499997072,99.31499957842092,5.225,426.144,0.5664552877311728,1565.1638530720352],
[0.5243625438714852,0.06786061857275709,0.0016965079364979886,99.75352907876739,1.67,389.361,0.6243264765149343,193.8561402071542],
[0.025996944775242323,0.0037720591090779944,0.002251984126983818,99.97335461892366,0.227,494.851,0.2451708106839898,4.825484280884553],
[0.07064611171337327,0.011633482472517824,0.005044091710754191,99.9818157821198,0.88,2583.952,0.1883658768105439,3.278793708542416],
[0.01773180260289664,0.0034682795227290652,0.00014770430107183163,99.99703531746445,0.662,10315.137,0.07122554746111867,0.27866771184038847]
]

ckpt_lm_simulation_data_20_704_096 = [
[4.136157469725234,4.862480246984649,0.3332063492063666,97.48049745774428,10.25,433.495,0.8006157180935497,4675.931885997981],
[1.4144016829944317,0.17684732529362576,0.036330699999973334,99.32741382846407,4.828,424.582,0.5682684736380316,1561.2237158267817],
[0.5224669285956793,0.0673990816017749,0.0016558730158627343,99.75450492510231,1.63,387.912,0.6263198597449686,193.20424984297154],
[0.025905039647600835,0.004535858699676382,0.002281746031745725,99.97277266780834,0.23,493.096,0.24602207515586988,4.808429998855865],
[0.0702939664206062,0.009641633597313947,0.004407848324511478,99.98243617288016,0.769,2571.494,0.18928108724993054,3.2630424030377383],
[0.017623372416693785,0.003538568651843277,0.00012918548386797136,99.99704319210122,0.579,10254.045,0.07165624551904443,0.27701719920274664]
]

ckpt_lm_simulation_data_25_660_09 = [
[4.1054856761966,4.703093401748082,0.3143192380952552,97.53558043079076,9.669,430.311,0.8036918361583919,4654.161914919957],
[1.4110213572954593,0.16120105590191844,0.03267354999997545,99.33669103759041,4.342,422.897,0.5709512861534913,1554.9038884667302],
[0.5199611530181334,0.0690407203510795,0.001574603174593885,99.7549017123963,1.55,386.082,0.6292834962777056,192.26421091523895],
[0.025817747569487456,0.0028985847975185027,0.0020039682539679657,99.97443623274668,0.202,491.476,0.24683635280139396,4.792796653976398],
[0.07005550098006726,0.00816025706114327,0.0043046737213367475,99.98281546669203,0.751,2562.712,0.18988436444772883,3.251964560523215],
[0.01758161853095619,0.003154441347486089,0.00012182258064221917,99.99710334530559,0.546,10231.241,0.07178310911048366,0.27640175364317116]
]

ckpt_lm_simulation_data_30_616_084 = [
[4.092362653496346,4.515020195458756,0.2928640000000174,97.59424087904542,9.009,428.917,0.807406184571579,4629.175864717543],
[1.406083668621578,0.15033705695013994,0.03185332499997658,99.3435196641629,4.233,420.647,0.5737641953981393,1548.1261722626184],
[0.5172815495816093,0.06467620759514608,0.001445587301578283,99.75787487045096,1.423,384.15,0.6323687599510108,191.2919262023195],
[0.02569557247324874,0.003462565820650785,0.0018551587301584456,99.97419436483085,0.187,489.173,0.24804716715850997,4.770036680583392],
[0.06979509483238241,0.007291669080012882,0.0038346560846530178,99.98314848239436,0.669,2553.484,0.19053873922383277,3.240204079772223],
[0.01753394133459759,0.003179762423161976,0.00012182258064231555,99.99710645573745,0.546,10202.151,0.0719625414517139,0.2756161259954362]
]

ckpt_lm_simulation_data_35_572_078 = [
[4.055614122038937,4.1683075326455885,0.26913320634922133,97.7014869849327,8.279,424.996,0.8113912579704053,4603.882140261291],
[1.4014918298548003,0.17344818717533209,0.030784774999976294,99.33636795975974,4.091,418.765,0.5760818051510667,1541.8905160620338],
[0.5149345722648354,0.05187342664661156,0.0013043809523728452,99.76418955952083,1.284,382.468,0.6349183602480793,190.48518068427032],
[0.025563341202408944,0.0024817410726778143,0.0015575396825394194,99.9753666580732,0.157,486.703,0.24926735310743203,4.746235572700855],
[0.06942718620712252,0.007813695709267347,0.0037028218694855385,99.98314413301539,0.646,2539.884,0.19156077615015632,3.2229564678910165],
[0.017439207932132817,0.002511531346281266,9.83951612879539e-05,99.99721565710207,0.441,10150.477,0.07231519887019264,0.27421988094871114]
]

ckpt_lm_simulation_data_40_528_072 = [
[4.030354083712332,3.884241505683217,0.25242412698413885,97.78775249377561,7.765,422.311,0.8153276400107072,4579.004867250785],
[1.3971203801033285,0.30880460189408415,0.028053199999979083,99.30921471599076,3.728,416.767,0.578335221982431,1536.8265634387533],
[0.5130280449454491,0.05296856745629954,0.0013013333333251845,99.76455012700701,1.281,381.001,0.6374111199695377,189.74638965427292],
[0.02550983593172753,0.0023265847874684026,0.0015277777777775747,99.97556475548205,0.154,485.698,0.24980573707397852,4.736518109710058],
[0.06909506661352594,0.007210134055056789,0.003227072310403039,99.98343774585453,0.563,2528.2,0.19245271458042584,3.2081753075976738],
[0.017377490748395747,0.0025740938340185833,0.00010018010752452212,99.99721529195179,0.449,10114.09,0.07255816805219728,0.27323779688805744]
]

ckpt_simulation_data = [ckpt_simulation_data_0_88_12,
                              ckpt_simulation_data_05_836_114,
                              ckpt_simulation_data_10_792_108,
                              ckpt_simulation_data_15_748_102,
                              ckpt_simulation_data_20_704_096,
                           ckpt_simulation_data_25_660_09,
                           ckpt_simulation_data_30_616_084,
                           ckpt_simulation_data_35_572_078,
                           ckpt_simulation_data_40_528_072
                              ]

base_simulation_data = [base_simulation_data_0_100,
                        base_simulation_data_5_95,
                        base_simulation_data_10_90,
                        base_simulation_data_15_85,
                        base_simulation_data_20_80,
                        base_simulation_data_25_75,
                        base_simulation_data_30_70,
                        base_simulation_data_35_65,
                        base_simulation_data_40_60
                        ]

ckpt_lm_simulation_data = [ckpt_lm_simulation_data_0_88_12,
                              ckpt_lm_simulation_data_05_836_114,
                              ckpt_lm_simulation_data_10_792_108,
                              ckpt_lm_simulation_data_15_748_102,
                              ckpt_lm_simulation_data_20_704_096,
                           ckpt_lm_simulation_data_25_660_09,
                           ckpt_lm_simulation_data_30_616_084,
                           ckpt_lm_simulation_data_35_572_078,
                           ckpt_lm_simulation_data_40_528_072
                              ]

model_data = [ckpt_simulation_data,
              ckpt_lm_simulation_data]

ckpt_time_change = []
recovery_time_change = []
recomputation_time_change = []

fp_tp_fn = ['0%', '5%', '10%', '15%', '20%', '25%', '30%', '35%', '40%']
applications = ['CHIMERA', 'XGC', 'S3D', 'GYRO', 'POP', 'VULCAN']
models = ['P1', 'P2']
colors = ['red', 'blue']



def data_clear():
    ckpt_time_change.clear()
    recomputation_time_change.clear()
    recovery_time_change.clear()

legend_elements_1 = [Line2D([0], [0], marker='o', label='Checkpoint', color='black'),
                     Line2D([0], [0], marker='v', label='Recomputation', color='black'),
                     Line2D([0], [0], marker='^', label='Recovery', color='black'),
                     Line2D([0], [0], color='red', label='P1'),
                     Line2D([0], [0], color='blue', label='P2')]


plt.rcParams.update({'font.size': 15, 'font.family':'Times New Roman'})

app_index = 0
for app in applications:
    axe = plt.subplot(111)
    #plt.subplots_adjust(hspace=0.01)
    model_index = 0
    for model in models:
        data_clear()
        prediction_index = 0
        for prediction in fp_tp_fn:
            ckpt_time_change.append(float(base_simulation_data[prediction_index][app_index][0] -
                                          model_data[model_index][prediction_index][app_index][0]) / float(
                base_simulation_data[prediction_index][app_index][0]) * 100)
            recomputation_time_change.append(float(base_simulation_data[prediction_index][app_index][1] -
                                                   model_data[model_index][prediction_index][app_index][1]) / float(
                base_simulation_data[prediction_index][app_index][1]) * 100)
            recovery_time_change.append(float(base_simulation_data[prediction_index][app_index][2] -
                                              model_data[model_index][prediction_index][app_index][2]) / float(
                base_simulation_data[prediction_index][app_index][2]) * 100)
            prediction_index += 1
        l1, = axe.plot(fp_tp_fn, ckpt_time_change, 'o', color=colors[model_index], linestyle='solid',
                       label='Checkpoint Overhead')
        l2, = axe.plot(fp_tp_fn, recomputation_time_change, 'v', color=colors[model_index], linestyle='solid',
                       label='Recomputation Overhead')
        l3, = axe.plot(fp_tp_fn, recovery_time_change, '^', color=colors[model_index], linestyle='solid',
                       label='Recovery Overhead')
        model_index += 1
    axe.tick_params(axis='x', labelsize=15)
    axe.tick_params(axis='y', labelsize=15)
    axe.set_ylim(0, 130)
    axe.set_yticks([10, 20, 30, 40, 50, 60, 70, 80, 90, 100])
    legend_properties = {'size': '15', 'family': 'Times New Roman', 'weight': 'normal'}
    axe.legend(handles=legend_elements_1, loc='upper center', prop=legend_properties, ncol=3, borderaxespad=0,
               borderpad=0.2)
    plt.xlabel('False Positive Rate (percentage)', fontsize=15)
    plt.ylabel('Overhead Reduction (percentage)', rotation='vertical', fontsize=15)
    plt.savefig(str(applications[app_index]) + '_fp' + '.png', dpi=400)
    plt.clf()
    app_index += 1